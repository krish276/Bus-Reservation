<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="BusListDisplay.css" />
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<script src="https://code.jquery.com/jquery-3.4.1.js"></script>
<script>
	function display(){
	var response = JSON.parse(sessionStorage.getItem("BusList"));
	$.each(response, function(i, Bus) {
		var row = $('<tr/>');
		var column1 = $('<td/>').text(Bus.transportCompanyName);
		var column2 = $("<td/>").text(Bus.arrivalTime);
		var column3 = $("<td/>").text(Bus.departureTime);
		var column4 = $("<td/>").text(Bus.duration);
 		var column5 = $("<td/>").text(Bus.seatsFree);
 		/* var r= $('<input type="button" id='+Bus.tripId+' value="Select Bus"/>') */
 		var r= $('<button  onclick="selected()" name="bus" value='+Bus.tripId+'>Select Bus</button>');
		row.append(column1);
		row.append(column2);
		row.append(column3); 
		row.append(column4);
		row.append(column5);
		row.append(r);
		$('#tbl').append(row);

	})
	}
	
	function selected(){

		sessionStorage.setItem('tripID',$("button[name=bus]").val());
		
		window.location.href = "https://www.google.com";
	}
</script>
</head>
<body onload="display()">
<div class="table-responsive">  
		<table id="tbl"></table>
</div>
</body>
</html>
